# language: zh-TW
@saga @orchestration
功能: Saga 交易編排
  作為電子商務系統
  我需要協調分散式交易
  以便確保訂單流程的一致性

  背景:
    假設 訂單服務已啟動
    而且 所有下游服務已可用

  @positive @happy-path
  場景: 成功完成訂單確認流程
    假設 一個有效的訂單確認請求
    當 發送訂單確認請求
    那麼 應該收到處理中的回應
    而且 回應應包含交易ID

  @positive @transaction-query
  場景: 查詢交易狀態
    假設 一個已提交的訂單交易
    當 查詢該交易狀態
    那麼 應該收到交易狀態資訊
    而且 狀態應包含交易ID

  @negative @invalid-request
  場景: 拒絕無效的訂單請求
    假設 一個缺少必要欄位的訂單請求
    當 發送無效的訂單確認請求
    那麼 應該收到錯誤回應

  @positive @config
  場景: 取得服務配置
    當 取得當前生效配置
    那麼 應該收到配置資訊
    而且 配置應包含服務順序

  @positive @config
  場景: 取得服務超時設定
    當 取得服務超時設定
    那麼 應該收到超時配置
    而且 每個服務都應有超時值

  @positive @config
  場景: 取得服務執行順序
    當 取得服務執行順序
    那麼 應該收到服務順序列表
    而且 列表應包含信用卡、庫存和物流服務
